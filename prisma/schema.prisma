generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model admin_users {
  id            Int       @id @default(autoincrement())
  email         String    @unique @db.VarChar(255)
  password_hash String    @db.VarChar(255)
  name          String    @db.VarChar(255)
  role          String    @default("admin") @db.VarChar(50)
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
}

model authors {
  id         Int          @id @default(autoincrement())
  name       String       @db.VarChar(255)
  email      String?      @db.VarChar(255)
  phone      String?      @db.VarChar(50)
  nmls_id    String?      @db.VarChar(50)
  bio        String?
  photo_id   Int?
  is_active  Boolean?     @default(true)
  created_at DateTime?    @default(now()) @db.Timestamptz(6)
  updated_at DateTime?    @default(now()) @db.Timestamptz(6)
  photo      media?       @relation(fields: [photo_id], references: [id], onUpdate: NoAction)
  blog_posts blog_posts[]
}

model blog_posts {
  id                       Int                        @id @default(autoincrement())
  title                    String                     @db.VarChar
  slug                     String                     @unique(map: "blog_posts_slug_idx") @db.VarChar
  excerpt                  String?                    @db.VarChar
  featured_image_id        Int?
  content                  Json?
  published_at             DateTime?                  @db.Timestamptz(3)
  author                   String?                    @db.VarChar
  updated_at               DateTime                   @default(now()) @db.Timestamptz(3)
  created_at               DateTime                   @default(now()) @db.Timestamptz(3)
  author_id                Int?
  author_ref               authors?                   @relation(fields: [author_id], references: [id], onUpdate: NoAction)
  media                    media?                     @relation(fields: [featured_image_id], references: [id], onUpdate: NoAction, map: "blog_posts_featured_image_id_media_id_fk")
  blog_posts_key_takeaways blog_posts_key_takeaways[]

  @@index([created_at])
  @@index([featured_image_id], map: "blog_posts_featured_image_idx")
  @@index([updated_at])
  @@index([author_id], map: "blog_posts_author_idx")
}

model blog_posts_key_takeaways {
  order      Int        @map("_order")
  parent_id  Int        @map("_parent_id")
  id         String     @id @db.VarChar
  takeaway   String     @db.VarChar
  blog_posts blog_posts @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "blog_posts_key_takeaways_parent_id_fk")

  @@index([order], map: "blog_posts_key_takeaways_order_idx")
  @@index([parent_id], map: "blog_posts_key_takeaways_parent_id_idx")
}

model featured_loans {
  id                      Int                       @id @default(autoincrement())
  title                   String                    @db.VarChar
  subtitle                String?                   @db.VarChar
  description             String?                   @db.VarChar
  icon                    enum_featured_loans_icon? @default(home)
  image_id                Int?
  link_url                String?                   @db.VarChar
  link_text               String?                   @default("Learn More") @db.VarChar
  order                   Decimal?                  @default(0) @db.Decimal
  is_active               Boolean?                  @default(true)
  updated_at              DateTime                  @default(now()) @db.Timestamptz(3)
  created_at              DateTime                  @default(now()) @db.Timestamptz(3)
  show_dpa                Boolean?                  @default(true)
  learn_more_enabled      Boolean?                  @default(false)
  learn_more_url          String?                   @db.VarChar
  learn_more_text         String?                   @default("Learn More") @db.VarChar
  dpa_text                String?                   @default("Down Payment Assistance Available") @db.VarChar
  media                   media?                    @relation("featured_loans_image_idTomedia", fields: [image_id], references: [id], onUpdate: NoAction)
  featured_loans_features featured_loans_features[]
}

model featured_loans_features {
  order          Int            @map("_order")
  parent_id      Int            @map("_parent_id")
  id             String         @id @db.VarChar
  text           String         @db.VarChar
  featured_loans featured_loans @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "featured_loans_features_parent_id_fk")
}

model footer {
  id              Int              @id @default(autoincrement())
  tagline         String?          @default("Making homeownership possible for everyone.") @db.VarChar
  copyright_text  String?          @db.VarChar
  nmls_info       String?          @db.VarChar
  cta_text        String?          @default("See what home loan is right for you") @db.VarChar
  cta_button_text String?          @default("Start Here") @db.VarChar
  cta_button_url  String?          @default("/apply") @db.VarChar
  updated_at      DateTime?        @db.Timestamptz(3)
  created_at      DateTime?        @db.Timestamptz(3)
  footer_columns  footer_columns[]
}

model footer_columns {
  order                Int                    @map("_order")
  parent_id            Int                    @map("_parent_id")
  id                   String                 @id @db.VarChar
  title                String                 @db.VarChar
  footer               footer                 @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "footer_columns_parent_id_fk")
  footer_columns_links footer_columns_links[]
}

model footer_columns_links {
  order           Int            @map("_order")
  parent_id       String         @map("_parent_id") @db.VarChar
  id              String         @id @db.VarChar
  label           String         @db.VarChar
  url             String         @db.VarChar
  open_in_new_tab Boolean?       @default(false)
  footer_columns  footer_columns @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "footer_columns_links_parent_id_fk")
}

model header_settings {
  id                                               Int       @id @default(autoincrement())
  background_type                                  String?   @default("solid") @db.VarChar
  background_color                                 String?   @default("#ffffff") @db.VarChar
  gradient_start_color                             String?   @default("#ffffff") @db.VarChar
  gradient_end_color                               String?   @default("#f0f0f0") @db.VarChar
  gradient_direction                               String?   @default("to-right") @db.VarChar
  pattern_type                                     String?   @default("dots") @db.VarChar
  pattern_color                                    String?   @default("#e5e5e5") @db.VarChar
  pattern_background_color                         String?   @default("#ffffff") @db.VarChar
  pattern_image_id                                 Int?
  background_image_id                              Int?
  background_image_overlay                         String?   @default("rgba(255,255,255,0.9)") @db.VarChar
  background_video_id                              Int?
  background_video_url                             String?   @db.VarChar
  background_video_overlay                         String?   @default("rgba(255,255,255,0.9)") @db.VarChar
  header_button_text                               String?   @default("Apply") @db.VarChar
  header_button_url                                String?   @default("/apply") @db.VarChar
  header_button_background_color                   String?   @default("#d93c37") @db.VarChar
  header_button_text_color                         String?   @default("#ffffff") @db.VarChar
  updated_at                                       DateTime? @default(now()) @db.Timestamptz(6)
  created_at                                       DateTime? @default(now()) @db.Timestamptz(6)
  header_button_icon                               String?   @default("none") @db.VarChar(50)
  header_button_border_color                       String?   @default("#d93c37") @db.VarChar(20)
  media_background_image                           media?    @relation("header_settings_background_image_idTomedia", fields: [background_image_id], references: [id], onUpdate: NoAction)
  media_header_settings_background_video_idTomedia media?    @relation("header_settings_background_video_idTomedia", fields: [background_video_id], references: [id], onUpdate: NoAction)
  media_pattern_image                              media?    @relation("header_settings_pattern_image_idTomedia", fields: [pattern_image_id], references: [id], onUpdate: NoAction)
}

model media {
  id                                                         Int               @id @default(autoincrement())
  alt                                                        String            @db.VarChar
  updated_at                                                 DateTime          @default(now()) @db.Timestamptz(3)
  created_at                                                 DateTime          @default(now()) @db.Timestamptz(3)
  url                                                        String?           @db.VarChar
  thumbnail_u_r_l                                            String?           @db.VarChar
  filename                                                   String?           @unique(map: "media_filename_idx") @db.VarChar
  mime_type                                                  String?           @db.VarChar
  filesize                                                   Decimal?          @db.Decimal
  width                                                      Decimal?          @db.Decimal
  height                                                     Decimal?          @db.Decimal
  focal_x                                                    Decimal?          @db.Decimal
  focal_y                                                    Decimal?          @db.Decimal
  label                                                      String?           @db.VarChar
  authors                                                    authors[]
  blog_posts                                                 blog_posts[]
  featured_loans                                             featured_loans[]  @relation("featured_loans_image_idTomedia")
  header_settings_background_image                           header_settings[] @relation("header_settings_background_image_idTomedia")
  header_settings_header_settings_background_video_idTomedia header_settings[] @relation("header_settings_background_video_idTomedia")
  header_settings_pattern_image                              header_settings[] @relation("header_settings_pattern_image_idTomedia")
  lender_logos                                               lender_logos[]
  loan_officers                                              loan_officers[]
  pages                                                      pages[]           @relation("pages_hero_image_idTomedia")
  seo_settings_seo_settings_favicon_idTomedia                seo_settings[]    @relation("seo_settings_favicon_idTomedia")
  seo_settings_seo_settings_og_image_idTomedia               seo_settings[]    @relation("seo_settings_og_image_idTomedia")
  site_settings_site_settings_logo_idTomedia                 site_settings[]   @relation("site_settings_logo_idTomedia")
  site_settings_site_settings_logo_white_idTomedia           site_settings[]   @relation("site_settings_logo_white_idTomedia")

  @@index([created_at])
  @@index([updated_at])
}

model navigation {
  id         Int       @id @default(autoincrement())
  updated_at DateTime? @db.Timestamptz(3)
  created_at DateTime? @db.Timestamptz(3)
}

model navigation_footer_menu_columns {
  order     Int    @map("_order")
  parent_id Int    @map("_parent_id")
  id        String @id @db.VarChar
  title     String @db.VarChar
}

model navigation_footer_menu_columns_links {
  order           Int      @map("_order")
  parent_id       String   @map("_parent_id") @db.VarChar
  id              String   @id @db.VarChar
  label           String   @db.VarChar
  url             String   @db.VarChar
  open_in_new_tab Boolean? @default(false)
}

model navigation_main_menu {
  order              Int      @map("_order")
  parent_id          Int      @map("_parent_id")
  id                 String   @id @db.VarChar
  label              String   @db.VarChar
  url                String   @db.VarChar
  open_in_new_tab    Boolean? @default(false)
  enabled            Boolean? @default(true)
  show_on_desktop    Boolean? @default(true)
  show_on_mobile_bar Boolean? @default(false)
  show_in_hamburger  Boolean? @default(true)
}

model navigation_main_menu_children {
  order           Int      @map("_order")
  parent_id       String   @map("_parent_id") @db.VarChar
  id              String   @id @db.VarChar
  label           String   @db.VarChar
  url             String   @db.VarChar
  open_in_new_tab Boolean? @default(false)
  enabled         Boolean? @default(true)
}

model pages {
  id               Int      @id @default(autoincrement())
  title            String   @db.VarChar
  slug             String   @unique(map: "pages_slug_idx") @db.VarChar
  content          Json?
  meta_title       String?  @db.VarChar
  meta_description String?  @db.VarChar
  updated_at       DateTime @default(now()) @db.Timestamptz(3)
  created_at       DateTime @default(now()) @db.Timestamptz(3)
  template         String?  @default("default") @db.VarChar
  subtitle         String?  @db.VarChar
  hero_image_id    Int?
  sidebar_title    String?  @db.VarChar
  sidebar_content  Json?
  cta_title        String?  @db.VarChar
  cta_button_text  String?  @db.VarChar
  cta_button_link  String?  @db.VarChar
  media            media?   @relation("pages_hero_image_idTomedia", fields: [hero_image_id], references: [id], onUpdate: NoAction)

  @@index([created_at])
  @@index([updated_at])
}

model routes {
  id          Int               @id @default(autoincrement())
  name        String            @db.VarChar
  path        String            @unique(map: "routes_path_idx") @db.VarChar
  description String?           @db.VarChar
  icon        enum_routes_icon? @default(document)
  is_active   Boolean?          @default(true)
  updated_at  DateTime          @default(now()) @db.Timestamptz(3)
  created_at  DateTime          @default(now()) @db.Timestamptz(3)
}

model seo_settings {
  id                                    Int       @id @default(autoincrement())
  site_title                            String?   @db.VarChar
  meta_description                      String?   @db.VarChar
  meta_keywords                         String?   @db.VarChar
  favicon_id                            Int?
  og_title                              String?   @db.VarChar
  og_description                        String?   @db.VarChar
  og_image_id                           Int?
  google_analytics_id                   String?   @db.VarChar
  updated_at                            DateTime? @default(now()) @db.Timestamptz(3)
  created_at                            DateTime? @default(now()) @db.Timestamptz(3)
  media_seo_settings_favicon_idTomedia  media?    @relation("seo_settings_favicon_idTomedia", fields: [favicon_id], references: [id], onUpdate: NoAction, map: "seo_settings_favicon_id_media_id_fk")
  media_seo_settings_og_image_idTomedia media?    @relation("seo_settings_og_image_idTomedia", fields: [og_image_id], references: [id], onUpdate: NoAction, map: "seo_settings_og_image_id_media_id_fk")

  @@index([favicon_id], map: "seo_settings_favicon_idx")
  @@index([og_image_id], map: "seo_settings_og_image_idx")
}

model site_settings {
  id                                       Int       @id @default(autoincrement())
  logo_id                                  Int?
  logo_white_id                            Int?
  phone                                    String?   @db.VarChar
  email                                    String?   @db.VarChar
  address                                  String?   @db.VarChar
  legal_banner                             String?   @db.VarChar
  updated_at                               DateTime? @db.Timestamptz(3)
  created_at                               DateTime? @db.Timestamptz(3)
  logo_height                              Decimal?  @default(40) @db.Decimal
  logo_white_height                        Decimal?  @default(40) @db.Decimal
  company_name                             String?   @db.VarChar
  social_links_facebook                    String?   @db.VarChar
  social_links_twitter                     String?   @db.VarChar
  social_links_instagram                   String?   @db.VarChar
  social_links_linkedin                    String?   @db.VarChar
  social_links_youtube                     String?   @db.VarChar
  legal_banner_mobile                      String?   @db.VarChar
  legal_banner_show_desktop                Boolean?  @default(true)
  legal_banner_show_mobile                 Boolean?  @default(true)
  logo_height_mobile                       Decimal?  @default(30) @db.Decimal
  logo_white_height_mobile                 Decimal?  @default(30) @db.Decimal
  snow_effect_enabled                      Boolean?  @default(false)
  santa_icon_enabled                       Boolean?  @default(false)
  media_site_settings_logo_idTomedia       media?    @relation("site_settings_logo_idTomedia", fields: [logo_id], references: [id], onUpdate: NoAction, map: "site_settings_logo_id_media_id_fk")
  media_site_settings_logo_white_idTomedia media?    @relation("site_settings_logo_white_idTomedia", fields: [logo_white_id], references: [id], onUpdate: NoAction, map: "site_settings_logo_white_id_media_id_fk")

  @@index([logo_id], map: "site_settings_logo_idx")
  @@index([logo_white_id], map: "site_settings_logo_white_idx")
}

model homepage_settings {
  id                            Int       @id @default(autoincrement())
  updated_at                    DateTime? @db.Timestamptz(6)
  created_at                    DateTime? @default(now()) @db.Timestamptz(6)
  hero_eyebrow                  String?   @db.VarChar
  hero_headline_line1           String?   @db.VarChar
  hero_headline_line2           String?   @db.VarChar
  hero_button_text              String?   @db.VarChar
  hero_button_url               String?   @db.VarChar
  hero_reassurance_time         String?   @db.VarChar
  hero_reassurance_text         String?   @db.VarChar
  hero_rating_percent           String?   @db.VarChar
  hero_rating_text              String?   @db.VarChar
  featured_loans_eyebrow        String?   @db.VarChar
  featured_loans_headline_line1 String?   @db.VarChar
  featured_loans_headline_line2 String?   @db.VarChar
  dpa_enabled                   Boolean?  @default(true)
  dpa_headline                  String?   @db.VarChar
  dpa_feature1                  String?   @db.VarChar
  dpa_feature2                  String?   @db.VarChar
  dpa_feature3                  String?   @db.VarChar
  dpa_button_text               String?   @db.VarChar
  dpa_button_url                String?   @db.VarChar
  dpa_reassurance_text          String?   @db.VarChar
  tools_eyebrow                 String?   @db.VarChar
  tools_headline_line1          String?   @db.VarChar
  tools_headline_line2          String?   @db.VarChar
  tools_card1_title             String?   @db.VarChar
  tools_card1_description       String?   @db.VarChar
  tools_card1_icon              String?   @db.VarChar
  tools_card1_url               String?   @db.VarChar
  tools_card2_title             String?   @db.VarChar
  tools_card2_description       String?   @db.VarChar
  tools_card2_icon              String?   @db.VarChar
  tools_card2_url               String?   @db.VarChar
  tools_card3_title             String?   @db.VarChar
  tools_card3_description       String?   @db.VarChar
  tools_card3_icon              String?   @db.VarChar
  tools_card3_url               String?   @db.VarChar
  more_loans_enabled            Boolean?  @default(true)
  more_loans_text               String?   @db.VarChar
  more_loans_link_text          String?   @db.VarChar
  more_loans_link_url           String?   @db.VarChar
  articles_title                String?   @db.VarChar
  articles_subtitle             String?   @db.VarChar
  tools_cards                   Json?
  hero_widget_type              String?   @default("badge") @db.VarChar(50)
  hero_widget_enabled           Boolean?  @default(true)
  hero_photo1_url               String?   @db.VarChar(500)
  hero_photo2_url               String?   @db.VarChar(500)
  hero_photo3_url               String?   @db.VarChar(500)
  hero_badge_text               String?   @default("Same-Day Pre-Approvals") @db.VarChar(255)
  hero_badge_subtext            String?   @default("Fast & hassle-free") @db.VarChar(255)
  why_choose_us                 Json?
  more_loans_style              String?   @default("red") @db.VarChar(20)
  hero_mobile_gradient_enabled  Boolean?  @default(true)
  dpa_background_style          String?   @default("blue") @db.VarChar(20)
  directory_banner_enabled      Boolean?  @default(true)
  directory_banner_text         String?   @default("Need a trusted real estate professional?") @db.VarChar(500)
  directory_banner_link_text    String?   @default("Browse our directory") @db.VarChar(100)
  directory_banner_link_url     String?   @default("/directory") @db.VarChar(255)
  process_enabled               Boolean?  @default(true)
  process_eyebrow               String?   @default("How It Works") @db.VarChar(100)
  process_headline              String?   @default("Your Path to Homeownership") @db.VarChar(255)
  process_subheadline           String?   @default("We keep you informed at every step. No surprises, no confusion, just a clear path from pre-approval to closing day.") @db.VarChar(500)
  process_steps                 Json?
}

model loan_officers {
  id                  Int                   @id @default(autoincrement())
  name                String                @db.VarChar(255)
  phone               String                @db.VarChar(50)
  email               String                @db.VarChar(255)
  is_active           Boolean?              @default(true)
  updated_at          DateTime?             @default(now()) @db.Timestamptz(3)
  created_at          DateTime?             @default(now()) @db.Timestamptz(3)
  photo_id            Int?
  nmls_id             String?               @db.VarChar(50)
  photo               media?                @relation(fields: [photo_id], references: [id])
  preapproval_letters preapproval_letters[]

  @@index([is_active])
  @@index([created_at])
}

model preapproval_letters {
  id              Int                      @id @default(autoincrement())
  borrower_name   String                   @db.VarChar(255)
  letter_date     DateTime                 @db.Date
  reference_id    String                   @unique @db.VarChar(100)
  status          enum_preapproval_status? @default(authentic)
  notes           String?
  updated_at      DateTime?                @default(now()) @db.Timestamptz(3)
  created_at      DateTime?                @default(now()) @db.Timestamptz(3)
  loan_officer_id Int?
  loan_officer    loan_officers?           @relation(fields: [loan_officer_id], references: [id], onUpdate: NoAction)

  @@index([reference_id])
  @@index([status])
  @@index([loan_officer_id])
  @@index([created_at])
}

model verify_page_settings {
  id                      Int       @id @default(1)
  page_title              String?   @default("Pre-Approval Letter Verification") @db.VarChar(255)
  page_subtitle           String?   @default("Enter the reference ID from your pre-approval letter to verify its authenticity.")
  success_title           String?   @default("Verified - Authentic Letter") @db.VarChar(255)
  success_message         String?   @default("This pre-approval letter is authentic.")
  fail_title              String?   @default("Verification Failed") @db.VarChar(255)
  fail_message            String?   @default("We could not verify this reference ID. The letter may be invalid, expired, or entered incorrectly.")
  default_contact_name    String?   @default("American Mortgage") @db.VarChar(255)
  default_contact_phone   String?   @default("(XXX) XXX-XXXX") @db.VarChar(50)
  default_contact_email   String?   @default("verify@americanmtg.com") @db.VarChar(255)
  updated_at              DateTime? @default(now()) @db.Timestamptz(6)
  created_at              DateTime? @default(now()) @db.Timestamptz(6)
  default_contact_photo   String?   @db.VarChar(500)
  default_contact_nmls_id String?   @db.VarChar(50)
}

model mobile_menu_buttons {
  id               Int       @id @default(autoincrement())
  label            String    @db.VarChar(100)
  url              String    @db.VarChar(500)
  icon             String?   @db.VarChar(50)
  button_type      String?   @default("outline") @db.VarChar(20)
  background_color String?   @default("#ffffff") @db.VarChar(20)
  text_color       String?   @default("#0f2e71") @db.VarChar(20)
  border_color     String?   @default("#0f2e71") @db.VarChar(20)
  order            Int?      @default(0)
  is_active        Boolean?  @default(true)
  updated_at       DateTime? @default(now()) @db.Timestamptz(3)
  created_at       DateTime? @default(now()) @db.Timestamptz(3)

  @@index([order])
  @@index([is_active])
}

model admin_menu_settings {
  id         Int       @id @default(autoincrement())
  menu_order String[]  @default([])
  updated_at DateTime? @default(now()) @db.Timestamp(6)
}

model giveaways {
  id                     Int                     @id @default(autoincrement())
  title                  String                  @db.VarChar(255)
  slug                   String                  @unique @db.VarChar(255)
  description            String?
  rules                  String?
  prize_title            String                  @db.VarChar(255)
  prize_value            Decimal?                @db.Decimal(10, 2)
  prize_description      String?
  prize_image            String?                 @db.VarChar(512)
  start_date             DateTime                @db.Timestamptz(6)
  end_date               DateTime                @db.Timestamptz(6)
  drawing_date           DateTime?               @db.Timestamptz(6)
  num_winners            Int?                    @default(1)
  alternate_winners      Int?                    @default(3)
  alternate_selection    String?                 @default("auto") @db.VarChar(20)
  require_w9             Boolean?                @default(false)
  w9_threshold           Decimal?                @default(600.00) @db.Decimal(10, 2)
  restricted_states      String[]                @default([])
  status                 String?                 @default("draft") @db.VarChar(20)
  winner_selected        Boolean?                @default(false)
  created_at             DateTime?               @default(now()) @db.Timestamptz(6)
  updated_at             DateTime?               @default(now()) @db.Timestamptz(6)
  entry_type             String?                 @default("both") @db.VarChar(20)
  primary_contact        String?                 @default("phone") @db.VarChar(20)
  bonus_entries_enabled  Boolean?                @default(false)
  bonus_entry_count      Int?                    @default(1)
  require_id             Boolean?                @default(false)
  deleted_at             DateTime?               @db.Timestamptz(6)
  archived               Boolean?                @default(false)
  button_text            String?                 @default("Enter Now") @db.VarChar(50)
  button_color           String?                 @default("#2563eb") @db.VarChar(20)
  button_icon            String?                 @default("ticket") @db.VarChar(50)
  delivery_method        String?                 @default("email") @db.VarChar(20)
  position               Int?                    @default(0)
  detail_image           String?                 @db.VarChar(512)
  fine_print             String?
  referral_enabled       Boolean?                @default(false)
  referral_bonus_entries Int?                    @default(1)
  max_referral_bonus     Int?                    @default(10)
  max_referrals_per_ip   Int?                    @default(3)
  entries                giveaway_entries[]
  referrals              giveaway_referrals[]
  sections               giveaway_sections[]
  unsubscribes           giveaway_unsubscribes[]
  winners                giveaway_winners[]
  notifications          notifications_log[]
  scheduled_jobs         scheduled_jobs[]

  @@index([slug], map: "idx_giveaways_slug")
  @@index([status], map: "idx_giveaways_status")
}

model giveaway_sections {
  id            Int       @id @default(autoincrement())
  giveaway_id   Int
  title         String    @db.VarChar(255)
  content       String?
  section_order Int?      @default(0)
  is_expanded   Boolean?  @default(false)
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
  updated_at    DateTime? @default(now()) @db.Timestamptz(6)
  giveaway      giveaways @relation(fields: [giveaway_id], references: [id], onDelete: Cascade)

  @@index([giveaway_id], map: "idx_giveaway_sections_giveaway_id")
  @@index([section_order], map: "idx_giveaway_sections_order")
}

model giveaway_entries {
  id                    Int                  @id @default(autoincrement())
  giveaway_id           Int
  email                 String               @db.VarChar(255)
  phone                 String               @db.VarChar(20)
  first_name            String               @db.VarChar(100)
  last_name             String               @db.VarChar(100)
  state                 String               @db.VarChar(2)
  zip_code              String?              @db.VarChar(10)
  sms_opt_in            Boolean?             @default(false)
  email_opt_in          Boolean?             @default(true)
  agreed_to_rules       Boolean?             @default(true)
  ip_address            String?              @db.VarChar(45)
  user_agent            String?
  entry_source          String?              @db.VarChar(50)
  referral_code         String?              @db.VarChar(50)
  is_valid              Boolean?             @default(true)
  invalidation_reason   String?
  created_at            DateTime?            @default(now()) @db.Timestamptz(6)
  entry_count           Int?                 @default(1)
  bonus_claimed         Boolean?             @default(false)
  secondary_contact     String?              @db.VarChar(255)
  giveaway              giveaways            @relation(fields: [giveaway_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  referrals_as_referred giveaway_referrals[] @relation("referred_entry")
  referrals_as_referrer giveaway_referrals[] @relation("referrer_entry")
  winner                giveaway_winners[]
  notifications         notifications_log[]

  @@unique([giveaway_id, email])
  @@unique([giveaway_id, phone])
  @@index([email], map: "idx_giveaway_entries_email")
  @@index([giveaway_id], map: "idx_giveaway_entries_giveaway_id")
  @@index([phone], map: "idx_giveaway_entries_phone")
}

model giveaway_referrals {
  id                    Int               @id @default(autoincrement())
  giveaway_id           Int
  referrer_entry_id     Int
  referral_code         String            @unique @db.VarChar(20)
  referred_entry_id     Int?
  referred_ip           String?           @db.VarChar(45)
  bonus_entries_awarded Int?              @default(0)
  created_at            DateTime?         @default(now()) @db.Timestamptz(6)
  converted_at          DateTime?         @db.Timestamptz(6)
  giveaway              giveaways         @relation(fields: [giveaway_id], references: [id], onDelete: Cascade)
  referred_entry        giveaway_entries? @relation("referred_entry", fields: [referred_entry_id], references: [id])
  referrer_entry        giveaway_entries  @relation("referrer_entry", fields: [referrer_entry_id], references: [id], onDelete: Cascade)

  @@index([referral_code], map: "idx_referral_code")
  @@index([referrer_entry_id], map: "idx_referrer_entry")
  @@index([giveaway_id], map: "idx_giveaway_referrals_giveaway")
}

model giveaway_winners {
  id                  Int                 @id @default(autoincrement())
  giveaway_id         Int
  entry_id            Int
  winner_type         String?             @default("primary") @db.VarChar(20)
  alternate_order     Int?
  status              String?             @default("pending") @db.VarChar(20)
  notified_at         DateTime?           @db.Timestamptz(6)
  notification_method String?             @db.VarChar(20)
  claim_deadline      DateTime?           @db.Timestamptz(6)
  claimed_at          DateTime?           @db.Timestamptz(6)
  claim_token         String?             @unique @db.VarChar(100)
  created_at          DateTime?           @default(now()) @db.Timestamptz(6)
  updated_at          DateTime?           @default(now()) @db.Timestamptz(6)
  selection_method    String?             @default("manual") @db.VarChar(20)
  entry               giveaway_entries    @relation(fields: [entry_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  giveaway            giveaways           @relation(fields: [giveaway_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  notifications       notifications_log[]
  prize_claim         prize_claims[]

  @@index([giveaway_id], map: "idx_giveaway_winners_giveaway_id")
  @@index([status], map: "idx_giveaway_winners_status")
}

model prize_claims {
  id                 Int              @id @default(autoincrement())
  winner_id          Int
  legal_name         String?          @db.VarChar(255)
  address_line1      String?          @db.VarChar(255)
  address_line2      String?          @db.VarChar(255)
  city               String?          @db.VarChar(100)
  state              String?          @db.VarChar(2)
  zip_code           String?          @db.VarChar(10)
  w9_document        String?          @db.VarChar(512)
  id_document        String?          @db.VarChar(512)
  verified           Boolean?         @default(false)
  verified_by        Int?
  verified_at        DateTime?        @db.Timestamptz(6)
  verification_notes String?
  fulfillment_status String?          @default("pending") @db.VarChar(20)
  fulfillment_notes  String?
  tracking_number    String?          @db.VarChar(100)
  fulfilled_at       DateTime?        @db.Timestamptz(6)
  created_at         DateTime?        @default(now()) @db.Timestamptz(6)
  updated_at         DateTime?        @default(now()) @db.Timestamptz(6)
  winner             giveaway_winners @relation(fields: [winner_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model notifications_log {
  id                Int               @id @default(autoincrement())
  giveaway_id       Int?
  entry_id          Int?
  winner_id         Int?
  notification_type String            @db.VarChar(50)
  channel           String            @db.VarChar(20)
  recipient         String            @db.VarChar(255)
  subject           String?           @db.VarChar(255)
  body              String?
  template_id       String?           @db.VarChar(100)
  status            String?           @default("pending") @db.VarChar(20)
  external_id       String?           @db.VarChar(255)
  error_message     String?
  attempts          Int?              @default(0)
  max_attempts      Int?              @default(3)
  next_retry_at     DateTime?         @db.Timestamptz(6)
  sent_at           DateTime?         @db.Timestamptz(6)
  delivered_at      DateTime?         @db.Timestamptz(6)
  created_at        DateTime?         @default(now()) @db.Timestamptz(6)
  entry             giveaway_entries? @relation(fields: [entry_id], references: [id], onUpdate: NoAction)
  giveaway          giveaways?        @relation(fields: [giveaway_id], references: [id], onUpdate: NoAction)
  winner            giveaway_winners? @relation(fields: [winner_id], references: [id], onUpdate: NoAction)

  @@index([giveaway_id], map: "idx_notifications_log_giveaway_id")
  @@index([status], map: "idx_notifications_log_status")
}

model giveaway_unsubscribes {
  id               Int        @id @default(autoincrement())
  email            String?    @db.VarChar(255)
  phone            String?    @db.VarChar(20)
  unsubscribe_type String     @db.VarChar(20)
  giveaway_id      Int?
  channel          String     @db.VarChar(20)
  reason           String?
  created_at       DateTime?  @default(now()) @db.Timestamptz(6)
  giveaway         giveaways? @relation(fields: [giveaway_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@unique([email, giveaway_id, channel])
  @@unique([phone, giveaway_id, channel])
}

model scheduled_jobs {
  id            Int        @id @default(autoincrement())
  job_type      String     @db.VarChar(50)
  giveaway_id   Int?
  scheduled_for DateTime   @db.Timestamptz(6)
  status        String?    @default("pending") @db.VarChar(20)
  started_at    DateTime?  @db.Timestamptz(6)
  completed_at  DateTime?  @db.Timestamptz(6)
  result        Json?
  error_message String?
  created_at    DateTime?  @default(now()) @db.Timestamptz(6)
  giveaway      giveaways? @relation(fields: [giveaway_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([scheduled_for], map: "idx_scheduled_jobs_scheduled_for")
  @@index([status], map: "idx_scheduled_jobs_status")
}

model rate_limits {
  id              Int       @id @default(autoincrement())
  identifier      String    @db.VarChar(255)
  identifier_type String    @db.VarChar(20)
  action          String    @db.VarChar(50)
  count           Int?      @default(1)
  window_start    DateTime? @default(now()) @db.Timestamptz(6)
  window_end      DateTime  @db.Timestamptz(6)

  @@unique([identifier, identifier_type, action, window_start])
  @@index([identifier, identifier_type, action], map: "idx_rate_limits_identifier")
}

model giveaway_notification_subscribers {
  id            Int       @id @default(autoincrement())
  email         String    @unique @db.VarChar(255)
  subscribed_at DateTime? @default(now()) @db.Timestamptz(6)
  is_active     Boolean?  @default(true)

  @@index([email], map: "idx_giveaway_notif_subs_email")
}

model legal_pages {
  id               Int       @id @default(autoincrement())
  slug             String    @unique @db.VarChar(50)
  title            String    @db.VarChar(255)
  meta_description String?   @db.VarChar(500)
  content          String?
  contact_company  String?   @default("American Mortgage") @db.VarChar(255)
  contact_nmls_id  String?   @db.VarChar(50)
  contact_address  String?   @db.VarChar(500)
  contact_email    String?   @default("info@americanmtg.com") @db.VarChar(255)
  contact_phone    String?   @db.VarChar(50)
  contact_website  String?   @default("americanmtg.com") @db.VarChar(255)
  updated_at       DateTime? @default(now()) @db.Timestamptz(6)
  created_at       DateTime? @default(now()) @db.Timestamptz(6)

  @@index([slug], map: "idx_legal_pages_slug")
}

model loan_page_settings {
  id                     Int       @id @default(autoincrement())
  hero_title             String?   @default("Loan Programs") @db.VarChar(255)
  hero_description       String?   @default("Whether you are buying your first home, upgrading, or refinancing, we have loan options tailored to your needs.")
  show_jump_pills        Boolean?  @default(true)
  bottom_cta_title       String?   @default("Not Sure Which Loan is Right for You?") @db.VarChar(255)
  bottom_cta_description String?   @default("Our loan experts are here to help. Get personalized advice with no obligation.")
  updated_at             DateTime? @default(now()) @db.Timestamptz(6)
}

model loan_page_widgets {
  id              Int       @id @default(autoincrement())
  widget_type     String    @db.VarChar(50)
  title           String    @db.VarChar(255)
  description     String?
  button_text     String?   @db.VarChar(100)
  button_link     String?   @db.VarChar(255)
  icon_name       String?   @db.VarChar(50)
  icon_color      String?   @db.VarChar(20)
  partner_name    String?   @db.VarChar(255)
  partner_company String?   @db.VarChar(255)
  partner_email   String?   @db.VarChar(255)
  partner_phone   String?   @db.VarChar(50)
  display_order   Int?      @default(0)
  show_on_mobile  Boolean?  @default(true)
  show_on_desktop Boolean?  @default(true)
  is_active       Boolean?  @default(true)
  created_at      DateTime? @default(now()) @db.Timestamptz(6)
  updated_at      DateTime? @default(now()) @db.Timestamptz(6)
}

model loan_products {
  id                     Int       @id @default(autoincrement())
  name                   String    @db.VarChar(255)
  tagline                String?   @db.VarChar(255)
  description            String?
  icon_name              String?   @default("home") @db.VarChar(50)
  highlights             String[]
  best_for               String?   @db.VarChar(255)
  down_payment           String?   @db.VarChar(50)
  credit_score           String?   @db.VarChar(50)
  display_order          Int?      @default(0)
  is_active              Boolean?  @default(true)
  created_at             DateTime? @default(now()) @db.Timestamptz(6)
  updated_at             DateTime? @default(now()) @db.Timestamptz(6)
  primary_button_text    String?   @default("Apply Now") @db.VarChar(100)
  primary_button_link    String?   @default("/apply") @db.VarChar(255)
  primary_button_style   String?   @default("filled") @db.VarChar(20)
  secondary_button_text  String?   @default("Call to Learn More") @db.VarChar(100)
  secondary_button_link  String?   @default("tel:870-926-4052") @db.VarChar(255)
  secondary_button_style String?   @default("outline") @db.VarChar(20)
  show_secondary_button  Boolean?  @default(true)
  slug                   String?   @db.VarChar(100)
  hero_image             String?   @db.VarChar(255)
  article_intro          String?
  article_sections       Json?     @default("[]")
  article_requirements   String[]
  article_faqs           Json?     @default("[]")
}

model lender_logos {
  id            Int       @id @default(autoincrement())
  name          String    @db.VarChar(255)
  logo_url      String?   @db.VarChar(500)
  media_id      Int?
  width         Int?      @default(120)
  height        Int?      @default(40)
  display_order Int?      @default(0)
  is_active     Boolean?  @default(true)
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
  updated_at    DateTime? @default(now()) @db.Timestamptz(6)
  media         media?    @relation(fields: [media_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@index([display_order], map: "idx_lender_logos_order")
  @@index([is_active], map: "idx_lender_logos_active")
}

model lender_logos_settings {
  id            Int       @id @default(1)
  section_title String?   @default("Trusted Lender Partners") @db.VarChar(255)
  updated_at    DateTime? @default(now()) @db.Timestamptz(6)
}

model about_page_settings {
  id                 Int       @id @default(autoincrement())
  hero_title         String?   @default("About American Mortgage") @db.VarChar(255)
  hero_subtitle      String?   @default("Your trusted Arkansas mortgage broker â€” dedicated to making homeownership accessible for everyone.")
  mission_title      String?   @default("Our Mission") @db.VarChar(255)
  mission_content    String?   @default("American Mortgage was founded with a clear purpose: to simplify the home buying process and make it accessible to everyone. We combine industry expertise with personalized service to guide you toward the right loan for your situation.")
  what_we_do_title   String?   @default("What We Do") @db.VarChar(255)
  what_we_do_content String?   @default("We offer a full range of mortgage products including FHA, VA, USDA, and Conventional loans. Our team specializes in helping first-time homebuyers, veterans, and families across Arkansas find financing solutions that fit their needs.")
  what_we_do_items   Json?     @default("[\"Purchase and refinance loans\", \"Down payment assistance programs\", \"Fast pre-approvals\", \"Competitive rates and terms\"]")
  approach_title     String?   @default("Our Approach") @db.VarChar(255)
  approach_items     Json?     @default("[{\"icon\": \"eye\", \"title\": \"Transparent\", \"description\": \"Clear communication and no hidden fees. We explain every step of the process.\"}, {\"icon\": \"lightning\", \"title\": \"Responsive\", \"description\": \"We return calls and emails promptly. Your questions deserve quick answers.\"}, {\"icon\": \"clock\", \"title\": \"Efficient\", \"description\": \"Streamlined processes to get you from application to closing without delays.\"}]")
  contact_title      String?   @default("Contact Us") @db.VarChar(255)
  contact_name       String?   @default("American Mortgage") @db.VarChar(255)
  contact_nmls       String?   @default("#2676687") @db.VarChar(50)
  contact_phone      String?   @default("(870) 926-4052") @db.VarChar(50)
  contact_email      String?   @default("hello@americanmtg.com") @db.VarChar(255)
  contact_address    String?   @default("122 CR 7185, Jonesboro, AR 72405")
  contact_image      String?   @default("/cms-media/png-01.png") @db.VarChar(500)
  cta_text           String?   @default("Start Your Application") @db.VarChar(255)
  cta_url            String?   @default("/apply") @db.VarChar(255)
  updated_at         DateTime? @default(now()) @db.Timestamptz(6)
  created_at         DateTime? @default(now()) @db.Timestamptz(6)
}

enum enum_featured_loans_icon {
  home
  building
  refresh
  shield
  star
  dollar
  chart
  key
}

enum enum_routes_icon {
  calculator
  document
  home
  user
  chart
  money
  info
  question
}

enum enum_preapproval_status {
  authentic
  invalid
  expired
}

model meta_landing_page_settings {
  id                        Int       @id @default(1)
  notice_enabled            Boolean?  @default(true)
  header_desktop_enabled    Boolean?  @default(true)
  header_mobile_enabled     Boolean?  @default(true)
  header_logo_centered_mobile Boolean?  @default(false)
  menu_enabled              Boolean?  @default(true)
  menu_items                Json?     @default("[]")
  apply_button_desktop_enabled Boolean?  @default(true)
  apply_button_mobile_enabled  Boolean?  @default(true)
  apply_button_icon_enabled    Boolean?  @default(true)
  apply_button_text         String?   @default("Apply Now") @db.VarChar(100)
  apply_button_url          String?   @default("/apply") @db.VarChar(255)
  apply_button_color        String?   @default("#d93c37") @db.VarChar(20)
  apply_button_text_color   String?   @default("#ffffff") @db.VarChar(20)
  heading_line1             String?   @default("Find Out") @db.VarChar(100)
  heading_line2             String?   @default("Your Homebuying") @db.VarChar(100)
  heading_line3             String?   @default("Budget Today") @db.VarChar(100)
  description_text          String?   @default("Complete this quick pre-application to get a clear picture of your budget and start shopping for homes with confidence.")
  cta_button_enabled        Boolean?  @default(true)
  cta_button_icon_enabled   Boolean?  @default(true)
  cta_button_text           String?   @default("Check My Budget") @db.VarChar(100)
  cta_button_url            String?   @default("/apply") @db.VarChar(255)
  cta_button_color          String?   @default("#d93c37") @db.VarChar(20)
  cta_button_text_color     String?   @default("#ffffff") @db.VarChar(20)
  updated_at                DateTime? @default(now()) @db.Timestamptz(6)
  created_at                DateTime? @default(now()) @db.Timestamptz(6)
}

model calculator_settings {
  id                        Int       @id @default(1)
  // Loan types stored as JSON array: [{name, label, minDownPayment, enabled}]
  loan_types                Json?     @default("[{\"name\":\"FHA\",\"label\":\"FHA\",\"minDownPayment\":3.5,\"enabled\":true},{\"name\":\"Conventional\",\"label\":\"Conventional\",\"minDownPayment\":3,\"enabled\":true},{\"name\":\"USDA\",\"label\":\"USDA\",\"minDownPayment\":0,\"enabled\":true},{\"name\":\"VA\",\"label\":\"VA\",\"minDownPayment\":0,\"enabled\":true},{\"name\":\"Non-QM\",\"label\":\"Non-QM / Investor\",\"minDownPayment\":10,\"enabled\":true}]")
  // Formula settings (as percentage of purchase price annually)
  property_insurance_rate   Decimal?  @default(1.0) @db.Decimal(5, 3)
  property_tax_rate         Decimal?  @default(1.0) @db.Decimal(5, 3)
  // Purchase price range
  min_purchase_price        Int?      @default(50000)
  max_purchase_price        Int?      @default(2000000)
  default_purchase_price    Int?      @default(300000)
  // Interest rate range
  min_interest_rate         Decimal?  @default(3.0) @db.Decimal(4, 2)
  max_interest_rate         Decimal?  @default(10.0) @db.Decimal(4, 2)
  default_interest_rate     Decimal?  @default(6.5) @db.Decimal(4, 2)
  // CTA Section
  cta_title                 String?   @default("Take the First Step Towards Your New Home") @db.VarChar(255)
  cta_text                  String?   @default("With our simple home loan calculator, you can estimate your monthly payments and start your journey towards owning a new home.")
  cta_button_text           String?   @default("Get Pre-Approved Now") @db.VarChar(100)
  cta_button_url            String?   @default("/apply") @db.VarChar(255)
  // Page settings
  page_title                String?   @default("Home Loan Calculator") @db.VarChar(255)
  // Slider styling
  slider_thumb_size         Int?      @default(60)
  slider_track_height       Int?      @default(20)
  // Button styling
  cta_button_color          String?   @default("#181F53") @db.VarChar(20)
  cta_button_text_color     String?   @default("#ffffff") @db.VarChar(20)
  // MIP/PMI rates
  fha_mip_rate_high         Decimal?  @default(0.55) @db.Decimal(5, 3)
  fha_mip_rate_low          Decimal?  @default(0.50) @db.Decimal(5, 3)
  fha_mip_ltv_threshold     Decimal?  @default(95.0) @db.Decimal(5, 2)
  conventional_pmi_rate     Decimal?  @default(0.75) @db.Decimal(5, 3)
  pmi_ltv_cutoff            Decimal?  @default(80.0) @db.Decimal(5, 2)
  // Results section labels
  results_title             String?   @default("Estimated Monthly Payment") @db.VarChar(255)
  results_subtext           String?   @default("Principal, interest, taxes, and insurance based on your inputs.")
  pi_label                  String?   @default("Principal & Interest") @db.VarChar(100)
  pi_subtext                String?   @default("Based on {rate}% interest rate") @db.VarChar(255)
  insurance_label           String?   @default("Property Insurance") @db.VarChar(100)
  insurance_subtext         String?   @default("Estimated monthly insurance ({rate}% annually)") @db.VarChar(255)
  taxes_label               String?   @default("Property Taxes") @db.VarChar(100)
  taxes_subtext             String?   @default("Estimated monthly taxes ({rate}% annually)") @db.VarChar(255)
  mip_label                 String?   @default("FHA Mortgage Insurance (MIP)") @db.VarChar(100)
  mip_subtext               String?   @default("Required for FHA loans ({rate}% annually)") @db.VarChar(255)
  pmi_label                 String?   @default("Private Mortgage Insurance (PMI)") @db.VarChar(100)
  pmi_subtext               String?   @default("Required until 20% equity ({rate}% annually)") @db.VarChar(255)
  // Quote settings
  quote_phone_required      Boolean?  @default(true)
  quote_email_required      Boolean?  @default(true)
  // Homestead credit
  homestead_tax_credit      Decimal?  @default(600) @db.Decimal(10, 2)
  // Disclaimer
  disclaimer_text           String?
  disclaimer_collapsible    Boolean?  @default(true)
  // CTA settings
  cta_text_enabled          Boolean?  @default(true)
  // Slider settings
  slider_color              String?   @default("#181F53") @db.VarChar(20)
  slider_max_purchase_price Int?      @default(1000000)
  // Download quote button
  download_quote_button_text       String?   @default("Download Quote") @db.VarChar(100)
  download_quote_button_color      String?   @default("#DC2626") @db.VarChar(20)
  download_quote_button_full_width Boolean?  @default(true)
  // Quote form
  quote_form_button_color   String?   @default("#181F53") @db.VarChar(20)
  // FAQ items as JSON array
  faq_items                 Json?     @default("[]")
  // Timestamps
  updated_at                DateTime? @default(now()) @db.Timestamptz(6)
  created_at                DateTime? @default(now()) @db.Timestamptz(6)
}

model quote_email_settings {
  id                 Int       @id @default(autoincrement())
  subject            String    @default("Your Loan Estimate - Quote #{quoteId}") @db.VarChar(255)
  greeting           String    @default("Hi {firstName},") @db.VarChar(255)
  intro_text         String    @default("Thank you for using our mortgage calculator! Here are the details of your personalized loan estimate:")
  body_text          String    @default("Ready to take the next step? Click the button below to view your full quote with additional details, or apply now to get started on your home loan journey.")
  button_text        String    @default("View Your Quote") @db.VarChar(100)
  show_apply_button  Boolean   @default(true)
  apply_button_text  String    @default("Apply Now") @db.VarChar(100)
  closing_text       String    @default("If you have any questions, feel free to reach out. We're here to help you every step of the way.")
  signature_text     String    @default("Best regards,") @db.VarChar(255)
  primary_color      String    @default("#0f2e71") @db.VarChar(20)
  button_color       String    @default("#0f2e71") @db.VarChar(20)
  sender_name        String?   @default("Preston Million") @db.VarChar(255)
  sender_title       String?   @default("Loan Officer") @db.VarChar(255)
  sender_phone       String?   @default("(870) 926-4052") @db.VarChar(50)
  sender_email       String?   @default("preston@americanmtg.com") @db.VarChar(255)
  sender_nmls        String?   @default("NMLS #123456") @db.VarChar(50)
  updated_at         DateTime? @default(now()) @db.Timestamp(6)
}

model prequalify_leads {
  id                    Int       @id @default(autoincrement())
  // Lead type
  lead_type             String    @db.VarChar(20) // 'purchase' or 'refinance'

  // Contact info
  first_name            String    @db.VarChar(100)
  last_name             String    @db.VarChar(100)
  email                 String    @db.VarChar(255)
  phone                 String    @db.VarChar(20)
  location              String?   @db.VarChar(255) // City or ZIP

  // Purchase-specific fields
  homebuying_stage      String?   @db.VarChar(50)
  price_range           String?   @db.VarChar(50)
  property_type         String?   @db.VarChar(50)
  purchase_timeline     String?   @db.VarChar(100)
  down_payment_percent  String?   @db.VarChar(20)
  owns_home             String?   @db.VarChar(50)
  first_time_buyer      Boolean?

  // Refinance-specific fields
  home_value            String?   @db.VarChar(50)
  current_rate          String?   @db.VarChar(20)
  mortgage_balance      String?   @db.VarChar(50)
  wants_cash_out        Boolean?
  cash_out_amount       String?   @db.VarChar(50)

  // Common fields
  military_service      Boolean?
  military_branch       String?   @db.VarChar(50)
  employment_status     String?   @db.VarChar(50)
  annual_income         String?   @db.VarChar(50)
  bankruptcy_history    Boolean?
  credit_score          String?   @db.VarChar(50)

  // Tracking
  ip_address            String?   @db.VarChar(45)
  user_agent            String?
  referral_source       String?   @db.VarChar(255)
  utm_source            String?   @db.VarChar(100)
  utm_medium            String?   @db.VarChar(100)
  utm_campaign          String?   @db.VarChar(100)

  // Status
  status                String?   @default("new") @db.VarChar(20)
  notes                 String?
  assigned_to           Int?

  // Timestamps
  created_at            DateTime? @default(now()) @db.Timestamptz(6)
  updated_at            DateTime? @default(now()) @db.Timestamptz(6)

  @@index([email])
  @@index([phone])
  @@index([lead_type])
  @@index([status])
  @@index([created_at])
}
