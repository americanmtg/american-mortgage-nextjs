generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model admin_users {
  id            Int       @id @default(autoincrement())
  email         String    @unique @db.VarChar(255)
  password_hash String    @db.VarChar(255)
  name          String    @db.VarChar(255)
  role          String    @default("admin") @db.VarChar(50)
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
}

model blog_posts {
  id                            Int                             @id @default(autoincrement())
  title                         String                          @db.VarChar
  slug                          String                          @unique(map: "blog_posts_slug_idx") @db.VarChar
  excerpt                       String?                         @db.VarChar
  featured_image_id             Int?
  content                       Json?
  published_at                  DateTime?                       @db.Timestamptz(3)
  author                        String?                         @db.VarChar
  updated_at                    DateTime                        @default(now()) @db.Timestamptz(3)
  created_at                    DateTime                        @default(now()) @db.Timestamptz(3)
  media                         media?                          @relation(fields: [featured_image_id], references: [id], onUpdate: NoAction, map: "blog_posts_featured_image_id_media_id_fk")
  blog_posts_key_takeaways      blog_posts_key_takeaways[]
  payload_locked_documents_rels payload_locked_documents_rels[]

  @@index([created_at])
  @@index([featured_image_id], map: "blog_posts_featured_image_idx")
  @@index([updated_at])
}

model blog_posts_key_takeaways {
  order      Int        @map("_order")
  parent_id  Int        @map("_parent_id")
  id         String     @id @db.VarChar
  takeaway   String     @db.VarChar
  blog_posts blog_posts @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "blog_posts_key_takeaways_parent_id_fk")

  @@index([order], map: "blog_posts_key_takeaways_order_idx")
  @@index([parent_id], map: "blog_posts_key_takeaways_parent_id_idx")
}

model featured_loans {
  id                      Int                       @id @default(autoincrement())
  title                   String                    @db.VarChar
  subtitle                String?                   @db.VarChar
  description             String?                   @db.VarChar
  icon                    enum_featured_loans_icon? @default(home)
  image_id                Int?
  link_url                String?                   @db.VarChar
  link_text               String?                   @default("Learn More") @db.VarChar
  order                   Decimal?                  @default(0) @db.Decimal
  is_active               Boolean?                  @default(true)
  updated_at              DateTime                  @default(now()) @db.Timestamptz(3)
  created_at              DateTime                  @default(now()) @db.Timestamptz(3)
  media                   media?                    @relation("featured_loans_image_idTomedia", fields: [image_id], references: [id], onDelete: SetNull, onUpdate: NoAction)
  featured_loans_features featured_loans_features[]
}

model featured_loans_features {
  order          Int            @map("_order")
  parent_id      Int            @map("_parent_id")
  id             String         @id @db.VarChar
  text           String         @db.VarChar
  featured_loans featured_loans @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "featured_loans_features_parent_id_fk")
}

model footer {
  id              Int              @id @default(autoincrement())
  tagline         String?          @default("Making homeownership possible for everyone.") @db.VarChar
  copyright_text  String?          @db.VarChar
  nmls_info       String?          @db.VarChar
  cta_text        String?          @default("See what home loan is right for you") @db.VarChar
  cta_button_text String?          @default("Start Here") @db.VarChar
  cta_button_url  String?          @default("/apply") @db.VarChar
  updated_at      DateTime?        @db.Timestamptz(3)
  created_at      DateTime?        @db.Timestamptz(3)
  footer_columns  footer_columns[]
}

model footer_columns {
  order                Int                    @map("_order")
  parent_id            Int                    @map("_parent_id")
  id                   String                 @id @db.VarChar
  title                String                 @db.VarChar
  footer               footer                 @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "footer_columns_parent_id_fk")
  footer_columns_links footer_columns_links[]
}

model footer_columns_links {
  order           Int            @map("_order")
  parent_id       String         @map("_parent_id") @db.VarChar
  id              String         @id @db.VarChar
  label           String         @db.VarChar
  url             String         @db.VarChar
  open_in_new_tab Boolean?       @default(false)
  footer_columns  footer_columns @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "footer_columns_links_parent_id_fk")
}

model header_settings {
  id                             Int       @id @default(autoincrement())
  background_type                String?   @default("solid") @db.VarChar
  background_color               String?   @default("#ffffff") @db.VarChar
  gradient_start_color           String?   @default("#ffffff") @db.VarChar
  gradient_end_color             String?   @default("#f0f0f0") @db.VarChar
  gradient_direction             String?   @default("to-right") @db.VarChar
  pattern_type                   String?   @default("dots") @db.VarChar
  pattern_color                  String?   @default("#e5e5e5") @db.VarChar
  pattern_background_color       String?   @default("#ffffff") @db.VarChar
  pattern_image_id               Int?
  background_image_id            Int?
  background_image_overlay       String?   @default("rgba(255,255,255,0.9)") @db.VarChar
  background_video_id            Int?
  background_video_url           String?   @db.VarChar
  background_video_overlay       String?   @default("rgba(255,255,255,0.9)") @db.VarChar
  header_button_text             String?   @default("Apply") @db.VarChar
  header_button_url              String?   @default("/apply") @db.VarChar
  header_button_background_color String?   @default("#d93c37") @db.VarChar
  header_button_text_color       String?   @default("#ffffff") @db.VarChar
  header_button_icon             String?   @default("none") @db.VarChar(50)
  header_button_border_color     String?   @default("#d93c37") @db.VarChar(20)
  updated_at                     DateTime? @default(now()) @db.Timestamptz(6)
  created_at                     DateTime? @default(now()) @db.Timestamptz(6)
  media_pattern_image            media?    @relation("header_settings_pattern_image_idTomedia", fields: [pattern_image_id], references: [id], onDelete: SetNull, onUpdate: NoAction)
  media_background_image         media?    @relation("header_settings_background_image_idTomedia", fields: [background_image_id], references: [id], onDelete: SetNull, onUpdate: NoAction)
}

model media {
  id                                               Int                             @id @default(autoincrement())
  alt                                              String                          @db.VarChar
  updated_at                                       DateTime                        @default(now()) @db.Timestamptz(3)
  created_at                                       DateTime                        @default(now()) @db.Timestamptz(3)
  url                                              String?                         @db.VarChar
  thumbnail_u_r_l                                  String?                         @db.VarChar
  filename                                         String?                         @unique(map: "media_filename_idx") @db.VarChar
  mime_type                                        String?                         @db.VarChar
  filesize                                         Decimal?                        @db.Decimal
  width                                            Decimal?                        @db.Decimal
  height                                           Decimal?                        @db.Decimal
  focal_x                                          Decimal?                        @db.Decimal
  focal_y                                          Decimal?                        @db.Decimal
  label                                            String?                         @db.VarChar
  blog_posts                                       blog_posts[]
  featured_loans                                   featured_loans[]                @relation("featured_loans_image_idTomedia")
  header_settings_pattern_image                    header_settings[]               @relation("header_settings_pattern_image_idTomedia")
  header_settings_background_image                 header_settings[]               @relation("header_settings_background_image_idTomedia")
  pages                                            pages[]                         @relation("pages_hero_image_idTomedia")
  payload_locked_documents_rels                    payload_locked_documents_rels[]
  seo_settings_seo_settings_favicon_idTomedia      seo_settings[]                  @relation("seo_settings_favicon_idTomedia")
  seo_settings_seo_settings_og_image_idTomedia     seo_settings[]                  @relation("seo_settings_og_image_idTomedia")
  site_settings_site_settings_logo_idTomedia       site_settings[]                 @relation("site_settings_logo_idTomedia")
  site_settings_site_settings_logo_white_idTomedia site_settings[]                 @relation("site_settings_logo_white_idTomedia")

  @@index([created_at])
  @@index([updated_at])
}

model navigation {
  id         Int       @id @default(autoincrement())
  updated_at DateTime? @db.Timestamptz(3)
  created_at DateTime? @db.Timestamptz(3)
}

model navigation_footer_menu_columns {
  order     Int    @map("_order")
  parent_id Int    @map("_parent_id")
  id        String @id @db.VarChar
  title     String @db.VarChar
}

model navigation_footer_menu_columns_links {
  order           Int      @map("_order")
  parent_id       String   @map("_parent_id") @db.VarChar
  id              String   @id @db.VarChar
  label           String   @db.VarChar
  url             String   @db.VarChar
  open_in_new_tab Boolean? @default(false)
}

model navigation_main_menu {
  order              Int      @map("_order")
  parent_id          Int      @map("_parent_id")
  id                 String   @id @db.VarChar
  label              String   @db.VarChar
  url                String   @db.VarChar
  open_in_new_tab    Boolean? @default(false)
  enabled            Boolean? @default(true)
  show_on_desktop    Boolean? @default(true)
  show_on_mobile_bar Boolean? @default(false)
  show_in_hamburger  Boolean? @default(true)
}

model navigation_main_menu_children {
  order           Int      @map("_order")
  parent_id       String   @map("_parent_id") @db.VarChar
  id              String   @id @db.VarChar
  label           String   @db.VarChar
  url             String   @db.VarChar
  open_in_new_tab Boolean? @default(false)
  enabled         Boolean? @default(true)
}

model pages {
  id                            Int                             @id @default(autoincrement())
  title                         String                          @db.VarChar
  slug                          String                          @unique(map: "pages_slug_idx") @db.VarChar
  content                       Json?
  meta_title                    String?                         @db.VarChar
  meta_description              String?                         @db.VarChar
  updated_at                    DateTime                        @default(now()) @db.Timestamptz(3)
  created_at                    DateTime                        @default(now()) @db.Timestamptz(3)
  template                      String?                         @default("default") @db.VarChar
  subtitle                      String?                         @db.VarChar
  hero_image_id                 Int?
  sidebar_title                 String?                         @db.VarChar
  sidebar_content               Json?
  cta_title                     String?                         @db.VarChar
  cta_button_text               String?                         @db.VarChar
  cta_button_link               String?                         @db.VarChar
  media                         media?                          @relation("pages_hero_image_idTomedia", fields: [hero_image_id], references: [id], onDelete: SetNull, onUpdate: NoAction)
  payload_locked_documents_rels payload_locked_documents_rels[]

  @@index([created_at])
  @@index([updated_at])
}

model payload_kv {
  id   Int    @id @default(autoincrement())
  key  String @unique(map: "payload_kv_key_idx") @db.VarChar
  data Json
}

model payload_locked_documents {
  id                            Int                             @id @default(autoincrement())
  global_slug                   String?                         @db.VarChar
  updated_at                    DateTime                        @default(now()) @db.Timestamptz(3)
  created_at                    DateTime                        @default(now()) @db.Timestamptz(3)
  payload_locked_documents_rels payload_locked_documents_rels[]

  @@index([created_at])
  @@index([global_slug])
  @@index([updated_at])
}

model payload_locked_documents_rels {
  id                       Int                      @id @default(autoincrement())
  order                    Int?
  parent_id                Int
  path                     String                   @db.VarChar
  users_id                 Int?
  media_id                 Int?
  blog_posts_id            Int?
  pages_id                 Int?
  routes_id                Int?
  featured_loans_id        Int?
  blog_posts               blog_posts?              @relation(fields: [blog_posts_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "payload_locked_documents_rels_blog_posts_fk")
  media                    media?                   @relation(fields: [media_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "payload_locked_documents_rels_media_fk")
  pages                    pages?                   @relation(fields: [pages_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "payload_locked_documents_rels_pages_fk")
  payload_locked_documents payload_locked_documents @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "payload_locked_documents_rels_parent_fk")
  users                    users?                   @relation(fields: [users_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "payload_locked_documents_rels_users_fk")

  @@index([blog_posts_id])
  @@index([media_id])
  @@index([order])
  @@index([pages_id])
  @@index([parent_id], map: "payload_locked_documents_rels_parent_idx")
  @@index([path])
  @@index([users_id])
}

model payload_migrations {
  id         Int      @id @default(autoincrement())
  name       String?  @db.VarChar
  batch      Decimal? @db.Decimal
  updated_at DateTime @default(now()) @db.Timestamptz(3)
  created_at DateTime @default(now()) @db.Timestamptz(3)

  @@index([created_at])
  @@index([updated_at])
}

model payload_preferences {
  id                       Int                        @id @default(autoincrement())
  key                      String?                    @db.VarChar
  value                    Json?
  updated_at               DateTime                   @default(now()) @db.Timestamptz(3)
  created_at               DateTime                   @default(now()) @db.Timestamptz(3)
  payload_preferences_rels payload_preferences_rels[]

  @@index([created_at])
  @@index([key])
  @@index([updated_at])
}

model payload_preferences_rels {
  id                  Int                 @id @default(autoincrement())
  order               Int?
  parent_id           Int
  path                String              @db.VarChar
  users_id            Int?
  payload_preferences payload_preferences @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "payload_preferences_rels_parent_fk")
  users               users?              @relation(fields: [users_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "payload_preferences_rels_users_fk")

  @@index([order])
  @@index([parent_id], map: "payload_preferences_rels_parent_idx")
  @@index([path])
  @@index([users_id])
}

model routes {
  id          Int               @id @default(autoincrement())
  name        String            @db.VarChar
  path        String            @unique(map: "routes_path_idx") @db.VarChar
  description String?           @db.VarChar
  icon        enum_routes_icon? @default(document)
  is_active   Boolean?          @default(true)
  updated_at  DateTime          @default(now()) @db.Timestamptz(3)
  created_at  DateTime          @default(now()) @db.Timestamptz(3)
}

model seo_settings {
  id                                    Int       @id @default(autoincrement())
  site_title                            String?   @db.VarChar
  meta_description                      String?   @db.VarChar
  meta_keywords                         String?   @db.VarChar
  favicon_id                            Int?
  og_title                              String?   @db.VarChar
  og_description                        String?   @db.VarChar
  og_image_id                           Int?
  google_analytics_id                   String?   @db.VarChar
  updated_at                            DateTime? @default(now()) @db.Timestamptz(3)
  created_at                            DateTime? @default(now()) @db.Timestamptz(3)
  media_seo_settings_favicon_idTomedia  media?    @relation("seo_settings_favicon_idTomedia", fields: [favicon_id], references: [id], onUpdate: NoAction, map: "seo_settings_favicon_id_media_id_fk")
  media_seo_settings_og_image_idTomedia media?    @relation("seo_settings_og_image_idTomedia", fields: [og_image_id], references: [id], onUpdate: NoAction, map: "seo_settings_og_image_id_media_id_fk")

  @@index([favicon_id], map: "seo_settings_favicon_idx")
  @@index([og_image_id], map: "seo_settings_og_image_idx")
}

model site_settings {
  id                                       Int       @id @default(autoincrement())
  logo_id                                  Int?
  logo_white_id                            Int?
  phone                                    String?   @db.VarChar
  email                                    String?   @db.VarChar
  address                                  String?   @db.VarChar
  legal_banner                             String?   @db.VarChar
  legal_banner_mobile                      String?   @db.VarChar
  legal_banner_show_desktop                Boolean?  @default(true)
  legal_banner_show_mobile                 Boolean?  @default(true)
  updated_at                               DateTime? @db.Timestamptz(3)
  created_at                               DateTime? @db.Timestamptz(3)
  logo_height                              Decimal?  @default(40) @db.Decimal
  logo_white_height                        Decimal?  @default(40) @db.Decimal
  company_name                             String?   @db.VarChar
  social_links_facebook                    String?   @db.VarChar
  social_links_twitter                     String?   @db.VarChar
  social_links_instagram                   String?   @db.VarChar
  social_links_linkedin                    String?   @db.VarChar
  social_links_youtube                     String?   @db.VarChar
  media_site_settings_logo_idTomedia       media?    @relation("site_settings_logo_idTomedia", fields: [logo_id], references: [id], onUpdate: NoAction, map: "site_settings_logo_id_media_id_fk")
  media_site_settings_logo_white_idTomedia media?    @relation("site_settings_logo_white_idTomedia", fields: [logo_white_id], references: [id], onUpdate: NoAction, map: "site_settings_logo_white_id_media_id_fk")

  @@index([logo_id], map: "site_settings_logo_idx")
  @@index([logo_white_id], map: "site_settings_logo_white_idx")
}

model homepage_settings {
  id                                 Int       @id @default(autoincrement())
  updated_at                         DateTime? @db.Timestamptz(3)
  created_at                         DateTime? @db.Timestamptz(3)

  // Hero Section
  hero_eyebrow                       String?   @db.VarChar
  hero_headline_line1                String?   @db.VarChar
  hero_headline_line2                String?   @db.VarChar
  hero_button_text                   String?   @db.VarChar
  hero_button_url                    String?   @db.VarChar
  hero_reassurance_time              String?   @db.VarChar
  hero_reassurance_text              String?   @db.VarChar
  hero_rating_percent                String?   @db.VarChar
  hero_rating_text                   String?   @db.VarChar

  // Featured Loans Section
  featured_loans_eyebrow             String?   @db.VarChar
  featured_loans_headline_line1      String?   @db.VarChar
  featured_loans_headline_line2      String?   @db.VarChar

  // Down Payment Assistance Card
  dpa_enabled                        Boolean?  @default(true)
  dpa_headline                       String?   @db.VarChar
  dpa_feature1                       String?   @db.VarChar
  dpa_feature2                       String?   @db.VarChar
  dpa_feature3                       String?   @db.VarChar
  dpa_button_text                    String?   @db.VarChar
  dpa_button_url                     String?   @db.VarChar
  dpa_reassurance_text               String?   @db.VarChar

  // Tools & Calculators Section
  tools_eyebrow                      String?   @db.VarChar
  tools_headline_line1               String?   @db.VarChar
  tools_headline_line2               String?   @db.VarChar
  tools_card1_title                  String?   @db.VarChar
  tools_card1_description            String?   @db.VarChar
  tools_card1_icon                   String?   @db.VarChar
  tools_card1_url                    String?   @db.VarChar
  tools_card2_title                  String?   @db.VarChar
  tools_card2_description            String?   @db.VarChar
  tools_card2_icon                   String?   @db.VarChar
  tools_card2_url                    String?   @db.VarChar
  tools_card3_title                  String?   @db.VarChar
  tools_card3_description            String?   @db.VarChar
  tools_card3_icon                   String?   @db.VarChar
  tools_card3_url                    String?   @db.VarChar
  tools_cards                        Json?     @db.JsonB

  // More Loan Options Card
  more_loans_enabled                 Boolean?  @default(true)
  more_loans_text                    String?   @db.VarChar
  more_loans_link_text               String?   @db.VarChar
  more_loans_link_url                String?   @db.VarChar

  // Latest Articles Section
  articles_title                     String?   @db.VarChar
  articles_subtitle                  String?   @db.VarChar
}

model users {
  id                            Int                             @id @default(autoincrement())
  updated_at                    DateTime                        @default(now()) @db.Timestamptz(3)
  created_at                    DateTime                        @default(now()) @db.Timestamptz(3)
  email                         String                          @unique(map: "users_email_idx") @db.VarChar
  reset_password_token          String?                         @db.VarChar
  reset_password_expiration     DateTime?                       @db.Timestamptz(3)
  salt                          String?                         @db.VarChar
  hash                          String?                         @db.VarChar
  login_attempts                Decimal?                        @default(0) @db.Decimal
  lock_until                    DateTime?                       @db.Timestamptz(3)
  payload_locked_documents_rels payload_locked_documents_rels[]
  payload_preferences_rels      payload_preferences_rels[]
  users_sessions                users_sessions[]

  @@index([created_at])
  @@index([updated_at])
}

model users_sessions {
  order      Int       @map("_order")
  parent_id  Int       @map("_parent_id")
  id         String    @id @db.VarChar
  created_at DateTime? @db.Timestamptz(3)
  expires_at DateTime  @db.Timestamptz(3)
  users      users     @relation(fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "users_sessions_parent_id_fk")

  @@index([order], map: "users_sessions_order_idx")
  @@index([parent_id], map: "users_sessions_parent_id_idx")
}

enum enum_featured_loans_icon {
  home
  building
  refresh
  shield
  star
  dollar
  chart
  key
}

enum enum_routes_icon {
  calculator
  document
  home
  user
  chart
  money
  info
  question
}

enum enum_preapproval_status {
  authentic
  invalid
  expired
}

model loan_officers {
  id                  Int                   @id @default(autoincrement())
  name                String                @db.VarChar(255)
  phone               String                @db.VarChar(50)
  email               String                @db.VarChar(255)
  is_active           Boolean               @default(true)
  updated_at          DateTime              @default(now()) @db.Timestamptz(3)
  created_at          DateTime              @default(now()) @db.Timestamptz(3)
  preapproval_letters preapproval_letters[]

  @@index([is_active])
  @@index([created_at])
}

model preapproval_letters {
  id              Int                      @id @default(autoincrement())
  borrower_name   String                   @db.VarChar(255)
  letter_date     DateTime                 @db.Date
  reference_id    String                   @unique @db.VarChar(100)
  status          enum_preapproval_status  @default(authentic)
  loan_officer_id Int?
  notes           String?                  @db.Text
  updated_at      DateTime                 @default(now()) @db.Timestamptz(3)
  created_at      DateTime                 @default(now()) @db.Timestamptz(3)
  loan_officer    loan_officers?           @relation(fields: [loan_officer_id], references: [id], onDelete: SetNull)

  @@index([reference_id])
  @@index([status])
  @@index([loan_officer_id])
  @@index([created_at])
}

model verify_page_settings {
  id                    Int       @id @default(1)
  page_title            String?   @default("Pre-Approval Letter Verification") @db.VarChar(255)
  page_subtitle         String?   @default("Enter the reference ID from your pre-approval letter to verify its authenticity.")
  success_title         String?   @default("Verified - Authentic Letter") @db.VarChar(255)
  success_message       String?   @default("This pre-approval letter is authentic.")
  fail_title            String?   @default("Verification Failed") @db.VarChar(255)
  fail_message          String?   @default("We could not verify this reference ID. The letter may be invalid, expired, or entered incorrectly.")
  default_contact_name  String?   @default("American Mortgage") @db.VarChar(255)
  default_contact_phone String?   @default("(XXX) XXX-XXXX") @db.VarChar(50)
  default_contact_email String?   @default("verify@americanmtg.com") @db.VarChar(255)
  updated_at            DateTime? @default(now()) @db.Timestamptz(6)
  created_at            DateTime? @default(now()) @db.Timestamptz(6)
}

model mobile_menu_buttons {
  id               Int       @id @default(autoincrement())
  label            String    @db.VarChar(100)
  url              String    @db.VarChar(500)
  icon             String?   @db.VarChar(50)
  button_type      String    @default("outline") @db.VarChar(20)
  background_color String?   @default("#ffffff") @db.VarChar(20)
  text_color       String?   @default("#0f2e71") @db.VarChar(20)
  border_color     String?   @default("#0f2e71") @db.VarChar(20)
  order            Int       @default(0)
  is_active        Boolean   @default(true)
  updated_at       DateTime  @default(now()) @db.Timestamptz(3)
  created_at       DateTime  @default(now()) @db.Timestamptz(3)

  @@index([order])
  @@index([is_active])
}

model admin_menu_settings {
  id         Int       @id @default(autoincrement())
  menu_order String[]  @default([])
  updated_at DateTime  @default(now()) @db.Timestamptz(6)
}
